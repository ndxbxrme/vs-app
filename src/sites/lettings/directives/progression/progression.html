
<div class="progression" ng-class="{editing:editing()}">
  <div ng-hide="$parent.editor">
    <div class="heading">
      <h5>Case - {{progression.side}}'s side - {{progression.name}} - {{property.item.displayAddress}}</h5>
      <div class="controls" ng-show="auth.checkRoles([&quot;admin&quot;,&quot;superadmin&quot;])"><a href="" ng-click="moveUp()"><i class="far fa-sort-up" aria-hidden="true"></i></a><a href="" ng-click="moveDown()"><i class="far fa-sort-down" aria-hidden="true"></i></a><a href="" ng-click="remove()"><i class="far fa-times-circle" aria-hidden="true"></i></a></div>
    </div>
  </div>
  <div ng-show="$parent.editor">
    <div class="heading" ng-hide="editing()">
      <h5>{{progression.name}}, {{progression.side}}</h5>
      <div class="controls" ng-show="auth.checkRoles([&quot;admin&quot;,&quot;superadmin&quot;])"><a href="" ng-click="moveUp()"><i class="far fa-sort-up" aria-hidden="true"></i></a><a href="" ng-click="moveDown()"><i class="far fa-sort-down" aria-hidden="true"></i></a><a href="" ng-click="remove()"><i class="far fa-times-circle" aria-hidden="true"></i></a></div>
      <div class="controls"><a href="" ng-click="edit();">
           Edit<i class="far fa-edit" aria-hidden="true"></i></a></div>
    </div>
    <div class="heading" ng-show="editing()">
      <div class="inputs">
        <label><span>Name</span>
          <input type="text" ng-model="progression.name" placeholder="Name"/>
        </label>
        <label for="default{{$index}}"><span>Default</span>
          <input type="checkbox" id="default{{$index}}" ng-model="progression.isdefault"/>
        </label>
      </div>
      <div class="btn-group">
        <input type="radio" name="side{{$index}}" id="side-buyer{{$index}}" ng-model="progression.side" value="Tenant"/>
        <label for="side-buyer{{$index}}">Tenant</label>
        <input type="radio" name="side{{$index}}" id="side-seller{{$index}}" ng-model="progression.side" value="Landlord"/>
        <label for="side-seller{{$index}}">Landlord</label>
      </div>
    </div>
  </div>
  <div class="milestones">
    <canvas></canvas>
    <div class="branch" ng-repeat="branch in progression.milestones">
      <lettings-milestone ng-repeat="milestone in branch" data="milestone" disabled="{{$parent.$parent.$parent.editor &amp;&amp; !$parent.$parent.editing()}}"></lettings-milestone><a class="new-milestone" href="" ng-click="addMilestone(branch)" ng-class="{hidden:$first}">+</a>
    </div>
    <div class="branch new"><a class="new-milestone" href="" ng-click="addMilestone()">+</a></div>
  </div>
  <div class="save">
    <button ng-click="saveProgression()">Save Progression</button>
    <button ng-click="cancel()">Cancel</button>
  </div>
</div>