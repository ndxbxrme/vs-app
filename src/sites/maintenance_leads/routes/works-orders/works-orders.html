
<div class="works-route route"> 
  <div class="container-xl">
    <div class="row align-items-center">
      <div class="col-sm-8">
        <h1>{{ mml('works-heading') }}</h1>
        <button ui-sref="maintenance_leads_issue({_id:&quot;&quot;})" class="button button-green"><i class="fas fa-plus"> </i>{{ mml('issues-button-new') }}</button>
      </div>
      <div class="col-sm-4 search">
        <input type="text" ng-model="mysearch.$like" placeholder="Search Works Orders" ng-change="page=1"/>
      </div>
    </div>

    <div class="controls">
      <div class="row">
        <div class="col-sm-10"></div>
        <div class="col-sm-2 text-end">
          <div class="showing">Showing {{issues.items.length}} of {{issues.total}} lead{{issues.total!==1?'s':''}}</div>
        </div>
      </div>
    </div>
    <div class="table-responsive">
      <table class="issue-table table" ng-show="issues.items.length &gt; 0">
        <thead>
          <tr>
            <th width="15%" ng-click="sort.set(&quot;date&quot;)" ng-class="sort.class(&quot;date&quot;)">{{ mml('works-heading-date') }}</th>
            <th width="25%" ng-click="sort.set(&quot;address&quot;)" ng-class="sort.class(&quot;address&quot;)">{{ mml('works-heading-address') }}</th>
            <th width="25%" ng-click="sort.set(&quot;tenant&quot;)" ng-class="sort.class(&quot;tenant&quot;)">{{ mml('works-heading-tenant') }}</th>
            <th width="20%" ng-click="sort.set(&quot;contractorName&quot;)" ng-class="sort.class(&quot;contractorName&quot;)">{{ mml('works-heading-contractor') }}</th>
            <th width="10%" ng-click="sort.set(&quot;status&quot;)" ng-class="sort.class(&quot;status&quot;)">{{ mml('works-heading-status') }}</th>
            <th width="5%">{{ mml('works-heading-options') }}</th>
          </tr>
        </thead>
        <tbody ng-repeat="issue in issues.items">
          <tr>
            <td class="date">{{ issue.date | date:medium }}</td>
            <td class="address">{{ issue.address }}<i class="fad fa-camera-retro" ng-show="issue.media.length"></i></td>
            <td class="tenant">{{ issue.tenant }}
              <div class="messages" ng-class="{newmessage:issue.newMessages &gt; 0}">{{issue.newMessages}}</div>
            </td>
            <td class="contractor">{{ issue.contractorName }}</td>
            <td class="status" ng-class="issue.status">
              <div class="booked"> 
                <div class="fad fa-file-medical"></div>
              </div>
              <div class="completed">
                <div class="fad fa-file-check"></div>
              </div>
              <div class="invoiced">
                <div class="fad fa-thumbs-up"></div>
              </div>
            </td>
            <td class="options">
              <button class="button" ui-sref="maintenance_leads_issue({_id:issue._id})"> 
                <div class="fal fa-eye"></div>View
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="empty-table" ng-show="!issues.items.length">{{ mml('works-empty-table') }}</div>
    <pagination ng-model="issues.args.page" total="issues.total" page-size="issues.args.pageSize"></pagination>
  </div>
</div>