
<div class="setup">
  <h1>Setup</h1>
  <div class="cleanup">
    <button class="cleanup" ui-sref="agency_cleanup">Clean up</button>
  </div>
  <div class="progressions">
    <h2>Progressions</h2>
    <agency-progression ng-repeat="progression in progressions.items" data="progression"></agency-progression>
    <div class="progressions-controls">
      <button class="add-progression" ng-click="addProgression()">Add Progression</button>
      <button class="reset-progressions" ng-click="resetProgressions()" ng-show="auth.checkRoles('superadmin')">Reset Property Progressions</button>
    </div>
  </div>
  <div class="row">
    <div class="email-templates">
      <h2>Email templates</h2>
      <div class="email-template" ng-repeat="template in emailTemplates.items"><a class="name" ui-sref="agency_template({id:template._id,type:'email'})">{{template.name}}</a>
        <div class="delete"><a href="" ng-click="emailTemplates.delete(template)"><i class="fa fa-times-circle-o" aria-hidden="true"></i></a></div>
      </div>
      <div><a class="add-email-template" ui-sref="agency_template({id:'new',type:'email'})">Add email template</a></div>
    </div>
    <div class="sms-templates">
      <h2>Sms templates</h2>
      <div class="sms-template" ng-repeat="template in smsTemplates.items"><a class="name" ui-sref="agency_template({id:template._id,type:'sms'})">{{template.name}}</a>
        <div class="delete"><a href="" ng-click="smsTemplates.delete(template)"><i class="fa fa-times-circle-o" aria-hidden="true"></i></a></div>
      </div>
      <div><a class="add-sms-template" ui-sref="agency_template({id:'new',type:'sms'})">Add sms template</a></div>
    </div>
  </div>
  <div class="dashboard">
    <h2>Dashboard</h2>
    <div class="row">
      <div class="overview">
        <h3>Overview</h3>
        <div class="dashboard-item" ng-repeat="item in dashboard.items | filter:{type:&quot;overview&quot;}"><a class="name" ui-sref="agency_dashboardItem({id:item._id,type:'overview'})">{{item.name}}</a>
          <div class="controls" ng-show="auth.checkRoles([&quot;admin&quot;,&quot;superadmin&quot;])"><a href="" ng-click="moveDIUp(item)"><i class="fa fa-arrow-circle-o-up" aria-hidden="true"></i></a><a href="" ng-click="moveDIDown(item)"><i class="fa fa-arrow-circle-o-down" aria-hidden="true"></i></a><a href="" ng-click="removeDI(item)"><i class="fa fa-times-circle-o" aria-hidden="true"></i></a></div>
        </div>
        <div><a class="add-dashboard-overview" ui-sref="agency_dashboardItem({id:'new',type:'overview'})">Add overview item</a></div>
      </div>
      <div class="income">
        <h3>Income</h3>
        <div class="dashboard-item" ng-repeat="item in dashboard.items | filter:{type:&quot;income&quot;} | orderBy:&quot;i&quot;"><a class="name" ui-sref="agency_dashboardItem({id:item._id,type:'income'})">{{item.name}}</a>
          <div class="controls" ng-show="auth.checkRoles([&quot;admin&quot;,&quot;superadmin&quot;])"><a href="" ng-click="moveDIUp(item)"><i class="fa fa-arrow-circle-o-up" aria-hidden="true"></i></a><a href="" ng-click="moveDIDown(item)"><i class="fa fa-arrow-circle-o-down" aria-hidden="true"></i></a><a href="" ng-click="removeDI(item)"><i class="fa fa-times-circle-o" aria-hidden="true"></i></a></div>
        </div>
        <div><a class="add-dashboard-income" ui-sref="agency_dashboardItem({id:'new',type:'income'})">Add income item</a></div>
      </div>
    </div>
  </div>
  <div class="users">
    <h2>Users</h2>
    <div class="row">
      <div class="users">
        <div class="user" ng-repeat="user in myusers = (users.items | filter:&quot;!superadmin&quot; | filter:&quot;!cors&quot;)"> <img gravatar-src="user.local.email"/><span>{{user.displayName || user.local.email}}</span></div>
      </div>
      <div class="add-user">
        <h3>Invite user</h3>
        <form name="addUserForm" ng-submit="addUser()">
          <div class="row">
            <input type="email" ng-model="newUser.local.email" placeholder="Email address"/>
            <select ng-model="newUser.role">
              <option value="agency" selected="selected">Agency</option>
              <option value="admin">Admin</option>
            </select>
          </div>
          <input type="submit" value="Invite"/>
        </form>
        <div class="invite-error">{{inviteError}}</div>
        <div class="invite-url" ng-show="inviteUrl">
          <p>An email has been sent or you can copy and paste the url below</p>
          <div class="row">
            <input type="text" ng-model="inviteUrl"/>
            <button ng-click="copyInviteToClipboard()">Copy</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>